<html>
  <head>
    <script src="trie.js" type="text/javascript"></script>
    <script src="keymap.js" type="text/javascript"></script>
  </head>
  <body>
    <h1 id="status">
      App loaded
    </h1>
    <p />
    <h4 id="modeline">
    </h4>

    <p />

    <h5>Bindings</h5>
    <table>
      <tr><td>C-u a</td></tr>
      <tr><td>C-u s</td></tr>
      <tr><td>C-u d</td></tr>
      <tr><td>C-p a</td></tr>
      <tr><td>C-p s</td></tr>
      <tr><td>C-p d</td></tr>
    </table>

    <script type="text/javascript">
     function status(msg) {
       document.getElementById('status').innerHTML = msg;
     }

     function modeline(msg) {
       document.getElementById('modeline').innerHTML = msg;
     }

     window.globalKeymap = new Keymap(true);
     window.globalKeymap.addBinding("C-u a", function() { status("User add"); });
     window.globalKeymap.addBinding("C-u s", function() { status("User search"); });
     window.globalKeymap.addBinding("C-u d", function() { status("User delete"); });
     window.globalKeymap.addBinding("C-p a", function() { status("Project add"); });
     window.globalKeymap.addBinding("C-p s", function() { status("Project search"); });
     window.globalKeymap.addBinding("C-p d", function() { status("Project delete"); });
     window.globalKeymap.addBinding("w w s s a d a d", function() { status("KONAMI!"); });

     window.globalKeymap.Load(
       function(prefix) {
         modeline(prefix);
       },
       function () {
         modeline("Unknown binding");
       }
     )
    </script>
  </body>
</html>
